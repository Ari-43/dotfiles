#!/usr/bin/env bash
# Generic environment variables setup
# See ./xdg and ./colors for basedir and theme color configurations respectively

# Use smooth scrolling in Firefox
export MOZ_USE_XINPUT2=1

# Fix opening links in Firefox within Wayland+XWayland environments
export MOZ_DBUS_REMOTE=1

# QT/GTK Style
#if [[ "$i3type" == 'i3' ]]; then
	#export qt_engine="kvantum"
	export qt_engine="qt5ct:qt6ct"
	#export QT_STYLE_OVERRIDE="$qt_engine"
	export QT_QPA_PLATFORMTHEME="$qt_engine"
	export QT_PLATFORMTHEME="$qt_engine"
	export QT_PLATFORM_PLUGIN="$qt_engine"
	#export QT_AUTO_SCREEN_SCALE_FACTOR=0
	#export QT_SCALE_FACTOR=1 
	export GTK_CSD=0
	#export GTK_THEME=Graphite-blue-Dark-nord
	#export GTK_THEME=rose-pine-gtk
	export ADW_DISABLE_PORTAL=0
#fi
# Java theming and font fixes
#export _JAVA_OPTIONS="-Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -Dswing.crossplatformlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true"

# Use Wayland native rendering in Electron applications (v28-37)
ELECTRON_OZONE_PLATFORM_HINT='auto'

# Required to use WiVRn for SteamVR applications
export PRESSURE_VESSEL_IMPORT_OPENXR_1_RUNTIMES=1

# Potentially reduce stuttering in VR
export U_PACING_COMP_MIN_TIME_MS=8

# Potential AMDGPU performance improvement: https://wiki.archlinux.org/title/AMDGPU#User_queues
export AMD_USERQ=1
	
# Fix CLI applications opened on the desktop opening in xterm
export TERMINAL=kitty

# Default terminal tools
export EDITOR="$(which nvim)"
export VISUAL=$EDITOR 
export PAGER='nvimpager'
export MANPAGER='nvim +Man!'

HISTFILE=~/.local/share/shell/history
HISTSIZE=100000
SAVEHIST=100000

# Use ccache for binaries built on the CLI
# https://wiki.archlinux.org/title/Ccache#Enable_for_command_line
export PATH="/usr/lib/ccache/bin:$PATH"
export GCC_COLORS=1

sourceife $HOME/.config/shell/env/xdg
sourceife $HOME/.config/shell/env/colors
